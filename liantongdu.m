clc
clear

n=344;

a=zeros(n);
A=xlsread('C:\Users\hp\Desktop\Beijinghalf.xlsx','2019');


for m = 1 :388;
    a(A(m,1),A(m,2))=1;
end

a=a+a';
 
r=randperm(344);

for i =1:n;
    
   a(r(1,i),:)=0;
   a(:,r(1,i))=0; 
   
    A=dgraf(a);
    
    B=(sum(sum(A))-(344-i))/117992;
    
    disp(B)
    
    if B<0.05;
break
    end 
    
end


% x=[0.006 	0.012 	0.017 	0.023 	0.029 	0.035 	0.041 	0.047 	0.052 	0.058 	0.064 	0.070 	0.076 	0.081 	0.087 	0.093 	0.099 	0.105 	0.110 	0.116 	0.122 	0.128 	0.134 	0.140 	0.145 	0.151 	0.157 	0.163 	0.169 	0.174 	0.180 	0.186 	0.192 	0.198 	0.203 	0.209 	0.215 	0.221 	0.227 	0.233 	0.238 	0.244 	0.250 	0.256 	0.262 	0.267 	0.273 	0.279 	0.285 	0.291 	0.297 	0.302 	0.308 	0.314 	0.320 	0.326 	0.331 	0.337 	0.343 	0.349 	0.355 	0.360 	0.366 	0.372 	0.378 	0.384 	0.390 	0.395 	0.401 
% ];
% y=[0.0116	0.0682	0.1179	0.1342	0.2692	0.3222	0.3271	0.3345	0.3981	0.4203	0.4291	0.5599	0.5647	0.5729	0.5768	0.5806	0.6033	0.6072	0.6286	0.6722	0.6759	0.6761	0.6827	0.686	0.6925	0.6988	0.7051	0.7086	0.7239	0.7359	0.736	0.7406	0.7493	0.7582	0.7695	0.7909	0.8014	0.802	0.8021	0.8072	0.8073	0.8076	0.8127	0.8127	0.8153	0.8227	0.8299	0.8347	0.8371	0.8372	0.8486	0.8531	0.8574	0.8619	0.862	0.8645	0.8788	0.879	0.8791	0.8811	0.9147	0.9168	0.9279	0.9281	0.9311	0.9329	0.9332	0.9482	0.9495
% ];
% 
% scatter(x,y,80,'*')
% 
% xlabel('Node proportion','FontWeight','bold')
% ylabel('Failure index','FontWeight','bold')
% set(gca, 'FontSize',12,'FontWeight','bold') % 设置坐标轴字体是 12
